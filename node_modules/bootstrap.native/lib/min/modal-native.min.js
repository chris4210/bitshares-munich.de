(function(a){if(typeof module!=="undefined"&&typeof exports=="object"){if(typeof window!="undefined"){module.exports=a()}else{module.exports=a}}else{window.Modal=a()}})(function(){var e=function(h,i){i=i||{};this.isIE=(new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)!=null)?parseFloat(RegExp.$1):false;this.opened=false;this.modal=typeof h==="object"?h:document.querySelector(h);this.options={};this.options.backdrop=i.backdrop==="false"?false:true;this.options.keyboard=i.keyboard==="false"?false:true;this.options.content=i.content;this.duration=i.duration||300;this.options.duration=(this.isIE&&this.isIE<10)?0:this.duration;this.scrollbarWidth=0;this.dialog=this.modal.querySelector(".modal-dialog");this.timer=0;this.init()};var a=function(){var i=document.documentElement.getBoundingClientRect(),h=window.innerWidth||(i.right-Math.abs(i.left));return h};e.prototype={init:function(){this.actions();this.trigger();if(this.options.content&&this.options.content!==undefined){this.content(this.options.content)}},actions:function(){var h=this;this.open=function(){this._open()},this.close=function(){this._close()},this._open=function(){if(this.options.backdrop){this.createOverlay()}else{this.overlay=null}if(this.overlay){setTimeout(function(){h.addClass(h.overlay,"in")},0)}clearTimeout(h.modal.getAttribute("data-timer"));this.timer=setTimeout(function(){h.modal.style.display="block";h.opened=true;h.checkScrollbar();h.adjustDialog();h.setScrollbar();h.resize();h.dismiss();h.keydown();h.addClass(document.body,"modal-open");h.addClass(h.modal,"in");h.modal.setAttribute("aria-hidden",false)},h.options.duration/2);this.modal.setAttribute("data-timer",h.timer)},this._close=function(){if(this.overlay){this.removeClass(this.overlay,"in")}this.removeClass(this.modal,"in");this.modal.setAttribute("aria-hidden",true);clearTimeout(h.modal.getAttribute("data-timer"));this.timer=setTimeout(function(){h.opened=false;h.removeClass(document.body,"modal-open");h.resize();h.resetAdjustments();h.resetScrollbar();h.dismiss();h.keydown();h.modal.style.display=""},h.options.duration/2);this.modal.setAttribute("data-timer",h.timer);setTimeout(function(){if(!document.querySelector(".modal.in")){h.removeOverlay()}},h.options.duration)},this.content=function(i){return this.modal.querySelector(".modal-content").innerHTML=i},this.createOverlay=function(){var i=document.createElement("div"),j=document.querySelector(".modal-backdrop");i.setAttribute("class","modal-backdrop fade");if(j){this.overlay=j}else{this.overlay=i;document.body.appendChild(i)}},this.removeOverlay=function(){var i=document.querySelector(".modal-backdrop");if(i!==null&&i!==undefined){document.body.removeChild(i)}},this.keydown=function(){function i(j){if(h.options.keyboard&&j.which==27){h.close()}}if(this.opened){document.addEventListener("keydown",i,false)}else{document.removeEventListener("keydown",i,false)}},this.trigger=function(){var l=document.querySelectorAll('[data-toggle="modal"]'),k=l.length,j=0;for(j;j<k;j++){l[j].addEventListener("click",function(m){var i=m.target,n=i.getAttribute("data-target")&&i.getAttribute("data-target").replace("#","")||i.getAttribute("href")&&i.getAttribute("href").replace("#","");if(document.getElementById(n)===h.modal){h.open()}})}},this._resize=function(){var j=this.overlay||document.querySelector(".modal-backdrop"),i={w:document.documentElement.clientWidth+"px",h:document.documentElement.clientHeight+"px"};if(j!==null&&/in/.test(j.className)){j.style.height=i.h;j.style.width=i.w}},this.oneResize=function(){function i(){h._resize();h.handleUpdate();window.removeEventListener("resize",i,false)}window.addEventListener("resize",i,false)},this.resize=function(){function i(){h._resize();h.handleUpdate();console.log("offresize")}if(this.opened){window.addEventListener("resize",this.oneResize,false)}else{window.removeEventListener("resize",this.oneResize,false)}},this.dismiss=function(){function i(j){if(j.target.parentNode.getAttribute("data-dismiss")==="modal"||j.target.getAttribute("data-dismiss")==="modal"||j.target===h.modal){j.preventDefault();h.close()}}if(this.opened){this.modal.addEventListener("click",i,false)}else{this.modal.removeEventListener("click",i,false)}},this.handleUpdate=function(){this.adjustDialog()},this.adjustDialog=function(){this.modal.style.paddingLeft=!this.bodyIsOverflowing&&this.modalIsOverflowing?this.scrollbarWidth+"px":"";this.modal.style.paddingRight=this.bodyIsOverflowing&&!this.modalIsOverflowing?this.scrollbarWidth+"px":""},this.resetAdjustments=function(){this.modal.style.paddingLeft="";this.modal.style.paddingRight=""},this.checkScrollbar=function(){this.bodyIsOverflowing=document.body.clientWidth<a();this.modalIsOverflowing=this.modal.scrollHeight>document.documentElement.clientHeight;this.scrollbarWidth=this.measureScrollbar()},this.setScrollbar=function(){var j=window.getComputedStyle(document.body),i=parseInt((j.paddingRight),10);if(this.bodyIsOverflowing){document.body.style.paddingRight=(i+this.scrollbarWidth)+"px"}},this.resetScrollbar=function(){document.body.style.paddingRight=""},this.measureScrollbar=function(){var j=document.createElement("div");j.className="modal-scrollbar-measure";document.body.appendChild(j);var i=j.offsetWidth-j.clientWidth;document.body.removeChild(j);return i},this.addClass=function(j,i){if(j.classList){j.classList.add(i)}else{j.className+=" "+i}},this.removeClass=function(j,i){if(j.classList){j.classList.remove(i)}else{j.className=j.className.replace(i,"").replace(/^\s+|\s+$/g,"")}}}};var f=document.querySelectorAll(".modal"),c=f.length,b=0;for(b;b<c;b++){var d=f[b],g={};g.keyboard=d.getAttribute("data-keyboard");g.backdrop=d.getAttribute("data-backdrop");g.duration=d.getAttribute("data-duration");new e(d,g)}return e});